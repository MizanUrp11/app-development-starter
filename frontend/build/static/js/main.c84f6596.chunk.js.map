{"version":3,"sources":["values.js","components/loginsignup.js","components/urls.js","App.js","reportWebVitals.js","index.js"],"names":["values","BASE","Loginsignup","state","isSignup","fullname","email","password","showSignupForm","setState","showLogin","updateStateValue","e","tgt","target","stateName","name","val","value","loginSignup","axios","post","then","d","alert","data","message","catch","console","log","token","localStorage","setItem","loginSuccess","getItem","this","to","className","id","style","display","onChange","type","placeholder","class","onClick","Component","Conditional","props","condition","children","UrlNotFound","UrlComponent","destination","createdAt","split","rel","href","hash","Urls","loggedIn","loading","newHash","urlList","getMyList","get","headers","scheduleClear","HandleKeyUp","keyCode","urlValue","match","url","setTimeout","finally","for","onKeyUp","position","bottom","right","role","reverse","map","el","i","length","Home","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c84f6596.chunk.js","sourcesContent":["const values = {\r\n    BASE:\"https://lwhh-js.herokuapp.com\"\r\n}\r\nexport default values;","import { Component } from 'react';\r\nimport \"animate.css\";\r\nimport \"../style.css\";\r\nimport axios from 'axios';\r\nimport values from '../values';\r\nimport { Redirect } from 'react-router';\r\n\r\nclass Loginsignup extends Component {\r\n    state = {\r\n        isSignup: true,\r\n        fullname: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n    }\r\n    showSignupForm = () => {\r\n        this.setState({ isSignup: true });\r\n    }\r\n    showLogin = () => {\r\n        this.setState({ isSignup: false });\r\n    }\r\n    updateStateValue = (e) => {\r\n        let tgt = e.target;\r\n        let stateName = tgt.name;\r\n        let val = tgt.value;\r\n        //debugger;\r\n        this.setState({\r\n            [stateName]: val\r\n        })\r\n    }\r\n    loginSignup = () => {\r\n        let { email, password } = this.state;\r\n        if (this.state.isSignup) {\r\n            if (this.state.fullname && this.state.email && this.state.password) {\r\n                let name = this.state.fullname;\r\n                axios.post(`${values.BASE}/signup`, { name, email, password })\r\n                    .then(d => {\r\n                        // debugger;\r\n                        alert(`${d.data.message}`);\r\n                        this.setState({ isSignup: false })\r\n                    })\r\n                    .catch(e => {\r\n                        // debugger;\r\n                        console.log(\"Sign up Error! please try again\");\r\n                    })\r\n                    .then(d => {\r\n                        this.setState({\r\n                            fullname: \"\",\r\n                            email: \"\",\r\n                            password: \"\"\r\n                        })\r\n                    })\r\n            } else {\r\n                alert(\"Parameter missing.\");\r\n            }\r\n        } else {\r\n            axios.post(`${values.BASE}/login`, { email, password })\r\n                .then(d => {\r\n                    let token = d.data.token;\r\n                    // debugger;\r\n                    localStorage.setItem(\"access_token\", token);\r\n                    this.setState({ loginSuccess: true });\r\n                })\r\n                .catch(e => {\r\n                    alert(\"login unsuccessful.\");\r\n                })\r\n            if (this.state.email && this.state.password) {\r\n\r\n            } else {\r\n                alert(\"Parameter missing for login.\");\r\n            }\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        if (localStorage.getItem(\"access_token\")) {\r\n            this.setState({ loginSuccess: true });\r\n        }\r\n    }\r\n    render() {\r\n        if (this.state.loginSuccess) {\r\n            return (<Redirect to=\"/\" />)\r\n        }\r\n        return (\r\n            <div className=\"container full-height\">\r\n                <div className=\"row full-height col-md-6 offset-md-3 justify-content-center align-items-center\">\r\n                    <div className=\"p-4 bg-light border border-1 rounded\">\r\n                        <h2 className=\"mb-4\" id=\"Sign-Up-heading\">{this.state.isSignup ? \"Sign up\" : \"Login\"}</h2>\r\n                        <div className=\"mb-3\" style={{ display: this.state.isSignup ? \"block\" : \"none\" }}>\r\n                            <input onChange={this.updateStateValue} name=\"fullname\" className=\"form-control\" type=\"text\" placeholder=\"Enter Name\" />\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <input onChange={this.updateStateValue} name=\"email\" className=\"form-control\" type=\"email\" placeholder=\"Enter Email\" />\r\n                        </div>\r\n                        <div class=\"mb-3\">\r\n                            <input onChange={this.updateStateValue} name=\"password\" className=\"form-control\" type=\"password\" placeholder=\"Enter Password\" />\r\n                        </div>\r\n                        <div class=\"d-grid gap-2\">\r\n                            <button onClick={this.loginSignup} className=\"btn btn-primary\" type=\"button\">{this.state.isSignup ? \"Sign up\" : \"Login\"}</button>\r\n                            <button style={{ display: this.state.isSignup ? \"none\" : \"block\" }} onClick={this.showSignupForm} className=\"btn btn-primary\" type=\"button\">Sign Up Now →</button>\r\n                            <button style={{ display: this.state.isSignup ? \"block\" : \"none\" }} onClick={this.showLogin} className=\"btn btn-primary\" type=\"button\">← Go Back To Login</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Loginsignup;\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport axios from 'axios';\r\nimport values from '../values';\r\n\r\nfunction Conditional(props) {\r\n    if (props.condition) {\r\n        return (\r\n            <div className={props.className}>\r\n                {props.children}\r\n            </div>\r\n        )\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\nfunction UrlNotFound(props) {\r\n    if (props.condition) {\r\n        return (\r\n            <div className=\"row py-3 rounded mb-3 bg-dark\">\r\n                <div className=\"col-md-12\">\r\n                    <h3 className=\"text-center text-light\">There is no shortend url</h3>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\nfunction UrlComponent(props) {\r\n    return (\r\n        <div className=\"row bg-info py-3 rounded mb-3\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                        <p style={{ \"max-width\": 150 }} className=\"text-secondary text-truncate\">{props.data.destination}</p>\r\n                    </div>\r\n                    <div className=\"col-md-4 d-none d-lg-block d-xl-none\">\r\n                        <p className=\"text-secondary text-end\">{props.data.createdAt.split(\"T\")[0]}</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <a target=\"_blank\" rel=\"noreferrer\" className=\"h3 text-dark text-decoration-none\" href={props.data.destination}>{`${values.BASE}/${props.data.hash}`}</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Urls extends Component {\r\n    state = {\r\n        loggedIn: true,\r\n        loading: false,\r\n        newHash: \"\",\r\n        token: \"\",\r\n        urlList: []\r\n    }\r\n    componentWillMount() {\r\n        let token = localStorage.getItem(\"access_token\");\r\n        if (!token) {\r\n            this.setState({ loggedIn: false });\r\n        } else {\r\n            this.setState({ token }, this.getMyList);\r\n        }\r\n    }\r\n    getMyList = () => {\r\n        axios.get(`${values.BASE}/api/v1/redirects`, { headers: { \"auth-token\": this.state.token } })\r\n            .then(d => {\r\n                this.setState({ urlList: d.data });\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            })\r\n    }\r\n\r\n    scheduleClear = () => {\r\n        this.setState({ newHash: \"\" });\r\n    }\r\n\r\n    HandleKeyUp = (e) => {\r\n        if (e.keyCode === 13) {\r\n            let urlValue = e.target.value;\r\n            e.target.value = \"\";\r\n            if (urlValue && urlValue.match(/^https?:\\/\\/.{3,}/)) {\r\n                this.setState({ loading: true });\r\n                axios.post(`${values.BASE}/api/v1/redirects`, { url: urlValue }, { headers: { \"auth-token\": this.state.token } })\r\n                    .then(d => {\r\n                        this.setState({ newHash: d.data.hash });\r\n                        setTimeout(this.scheduleClear, 5000);\r\n                    })\r\n                    .catch(e => {\r\n                        console.log(e)\r\n                    })\r\n                    .finally(() => {\r\n                        this.setState({ loading: false });\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.loggedIn) {\r\n            return (<Redirect to=\"/\" />);\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"container mt-5\">\r\n                    <h2 className=\"text-center py-5 my-3\">Welcome to Dashboard</h2>\r\n                    <div className=\"row bg-light py-3 rounded\">\r\n                        <div className=\"col-md-12\">\r\n                            <div className=\"mb-3\">\r\n                                <label className=\"form-label\" for=\"urls\">Input Url</label>\r\n                                <input id=\"urls\" onKeyUp={this.HandleKeyUp} className=\"form-control\" type=\"url\" placeholder=\"Enter url and press Enter to shorten.\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <Conditional condition={this.state.newHash} className=\"alert alert-success alert-dismissible fade show\" style={{ position: \"fixed\", bottom: 0, right: 0 }} role=\"alert\">\r\n                            {`${values.BASE}/${this.state.newHash}`}\r\n                        </Conditional>\r\n                    </div>\r\n\r\n                    <div className=\"url-list\">\r\n                        {this.state.urlList.reverse().map((el, i) => <UrlComponent data={el} key={i} />)}\r\n                    </div>\r\n\r\n                    <UrlNotFound condition={!this.state.urlList.length}> </UrlNotFound>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Urls;\r\n","//https://reactrouter.com/\n\nimport Loginsignup from \"./components/loginsignup\";\nimport Urls from \"./components/urls\";\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route exact path=\"/\" component={Home}></Route>\n        <Route path=\"/urls\" component={Urls}></Route>\n        <Route path=\"/loginsignup\" component={Loginsignup}></Route>\n      </Router>\n    </div>\n  );\n}\n\nfunction Home() {\n  let token = localStorage.getItem(\"access_token\");\n  if(token){\n    return(<Redirect to=\"/urls\"/>);\n  }else{\n    return(<Redirect to=\"/loginsignup\"/>);\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}